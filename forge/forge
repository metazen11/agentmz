#!/usr/bin/env bash
# Forge CLI wrapper - run from anywhere
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
REPO_ROOT="$(dirname "$SCRIPT_DIR")"

# Activate venv if exists
if [[ -f "$REPO_ROOT/venv/bin/activate" ]]; then
    source "$REPO_ROOT/venv/bin/activate"
elif [[ -f "$REPO_ROOT/.venv/bin/activate" ]]; then
    source "$REPO_ROOT/.venv/bin/activate"
fi

# Add repo to PYTHONPATH
export PYTHONPATH="$REPO_ROOT:$PYTHONPATH"

# Run forge from repo root
cd "$REPO_ROOT"
exec python -m forge "$@"
